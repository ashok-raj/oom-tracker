# OOM Tracker Configuration

# Memory threshold percentage (0-100)
# When system memory usage exceeds this threshold, the tool will kill browsers
memory_threshold_percent: 90

# How long to wait after sending SIGTERM before sending SIGKILL (seconds)
kill_timeout_seconds: 30

# Logging configuration
log_level: INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL
log_max_bytes: 10485760  # 10MB
log_backup_count: 5  # Keep 5 backup log files

# Dry run mode - if true, will only log what it would do without actually killing processes
dry_run: false

# Tab killing configuration (Strategy B)
# Kill mode: "browser" kills entire browser instance, "tab" kills individual tabs first
kill_mode: tab  # "tab" or "browser"

# Only kill tabs using more than this amount of memory (MB)
tab_memory_threshold_mb: 300

# Maximum number of tabs to kill before falling back to killing entire browser
max_tabs_to_kill: 3

# Wait time between killing tabs (seconds)
tab_kill_interval_seconds: 5

# Claude CLI monitoring (added for memory leak tracking)
# Monitor Claude processes in addition to browsers
monitor_claude: true
claude_memory_threshold_mb: 10240  # Alert if Claude uses more than 10GB RSS
